<html><head><title>nope</title>

<script>
var peers = {}
bridge.msgPush.connect(incomingMsg);
function incomingMsg(message){
  //msg = JSON.parse(message.message);
  id = message.peerID;
  name = message.peerName;

//make peer if missing
  if(!(id in peers)){
      peers[id] = {"name":name}
      peerPanel = "<p id='"+id+"'>"+peers[id].name+"</p>";
      document.getElementById("peerlist").innerHTML+=peerPanel;

      peerPanel =peers[id].name+" <a href=directchat.html?peerid="+id+">chat</a><br/>";
      document.getElementById("peerlistplain").innerHTML+=peerPanel;

   }

   //show peers last  message
   peerPanel = peers[id].name+"<br/>Last message="+message.message;
   document.getElementById(id).innerHTML = peerPanel

}

tick();

//send a message to everyone each second, so they know we are alive
function tick(){
    var packetdata = {"type":"indexping","msg":"hi there"};
    bridgeWV.broadcastMessage(JSON.stringify(packetdata));
    setTimeout(tick,1000);
}

   function searchKeyDown(e) {
       if (e.keyCode == 13) {
            testSearch();
           return false;
       }
   }
</script>
</head><body>

<p> try these pages</p>
<a href="search.html">Search/download</a> local and remote indexed files<br/>
<a href="broadcastchat.html">Broadcast Chat</a> - low data<br/>
<a href="interactiveparticles.html">Broadcast Particles</a> - medium data - paints lots of circles with three.js<br/>
<a href="phystest.html">p2p Averaging Physics Test</a> - all clients control all objects<br/>
<a href="phystest2.html">p2p owned-objects Physics Test</a> - clients control their own objects<br/>
<a href="ivank/kevents.html">Ivank simple drivable car</a> - clients control their own object<br/>
<a href="chattest.html">3d chat tree test</a> basic message+parent data is sent over the network, local 3d display<br/>
<a href="localstorage.html">Local Storage</a> no RS networking - just testing out html5 local storage<br/>
<!--
<p>old testing: Click the button to trigger a function.</p>

<br>
<button onclick="myFunction()">Click me</button>
<button onclick="testecho()">test echo</button>
<button onclick="bridgeWV.go2index2()">barefunc</button>
<button onclick="bridgeWV.go2page('index2.html')">richfunk</button>
<button onclick="bridgeWV.go2page('tindex.html')">to tindex</button>-->

<p id="demo"></p>
Compatable Peers:
<p id="peerlistplain"></p>
Last packet from peers
<p id="peerlist"></p>
</body>
</html>
